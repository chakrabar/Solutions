<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Arghya Chakrabarty">
        <meta name="description" content="Experimental, free, peer-2-peer video chat system">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="/message_icon.jpg">
        <meta property="og:image" content="/message_icon.jpg" />
        <script>
            const ROOM_ID = "<%= roomId %>" // roomId passed by express
        </script>
        <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
        <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js" defer></script>
        <script src="/socket.io/socket.io.js" defer></script> <!--use the socket.io client-->
        <script src="script.js" defer></script>
        <title>Simple VidChat</title>
        <style>
            #video-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, 300px);
                grid-auto-rows: 300px;
            }

            video {
                height: 270px;
                width: 270px;
                object-fit: cover;
                margin: 15px;
                border: grey 1px solid;
            }

            #chat-form {
                padding: 10px;
                border: grey 1px solid;
                border-radius: 5px;
            }

            #chat-display {
                width: 100%;
                min-height: 30px;
                max-height: 250px;
                overflow-y: scroll;
                border: grey 1px solid;
                border-radius: 5px;
            }

            #chat-display span {
                display: block;
            }
        </style>
    </head>
    <body>
        <h2>Free Video Chat, room: <%= roomId %></h2>
        <div id="video-grid"></div>
        <div id="chat-display"></div>
        <form id="chat-form">
            <input id="msg-txt" type="text" autocomplete="off" />
            <button type="submit">Send</button>
        </form>
    </body>
</html>